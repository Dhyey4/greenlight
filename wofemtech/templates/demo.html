{% extends 'base.html' %}
{% load static %}
{% block title %}
    Demo
{% endblock title %}
{% block content %}


<div class="contact-section p50-0">
    <div class="container">
        <div class="row"> 
         <div class="offset-lg-3  col-lg-6 offset-lg-0 col-md-6 col-sm-6 mtop30">
         	<div style="text-align: center;">
         	<h2>Request a live demo</h2>
         	<p>Please provide the following details</p><br>
         	</div>
             <div class="contact-form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Full Name *" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                      <input type="email" class="form-control" placeholder="Email *" id="email" name="email" required="">
                    </div>
                    <div class="form-group">
                        <input type="number" class="form-control" placeholder="Phone number *" id="pnumber" name="pnumber" required="">
                    </div>
                    <div class="form-group">
                        <!-- <input type="text" class="form-control" placeholder="Country *" id="name"> -->
                        <select id="country" name="country" required="">
                        	<option>Country *</option>
                        	<option value="canada">Canada</option>
                        	<option value="usa">United States of America</option>
                        	<option value="international">International</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Company Name *" id="cname" name="cname" required="">
                    </div>
                    <div class="form-group">
                    	<select id="employee" name="employee" required="">
                    		<option>Total Number of employees *</option>
                    		<option value="just-me">Just Me</option>
                    		<option value="2-8">2 - 8</option>
                    		<option value="10-20">10 - 20</option>
                    		<option value="20-50">20 - 50</option>
                    		<option value="50-150">50 - 150</option>
                    		<option value="150-300">150 - 300</option>
                    		<option value="300-500+">300 - 500+</option>
                    	</select>
                    </div>
                    <div class="form-group">
                        <!-- <input type="date" class="form-control" placeholder="Prefered Date" id="date" value="Prefered Date *"> -->
                        <input placeholder="Prefered Date *" class="form-control" type="text" onfocus="(this.type='date')" id="date" name="date" required="">
                    </div>
                    <div class="form-group">
                    	<input placeholder="Prefered Time *" class="form-control" type="text" onfocus="(this.type='time')" id="time" name="time" required="">
                    </div>
                    <div class="form-group">
                    	<input type="text" placeholder="Additional information related to your business needs *" name="information" id="information" required="">
                    </div>
                    <div class="form-group" style="text-align: center;">
                        <!-- <input type="submit" value="submit"> -->
                        <button class="btn btn-success" id="demo_click">Submit</button>
                    </div>
             </div>
         </div> 
        </div>   
    </div>
</div>



<script type="text/javascript">
    $(document).ready(function(){

        $('#demo_click').click(function(){
            // alert("meet");
            var name = $('#name').val();
            var email = $('#email').val();
            var phone_number = $('#pnumber').val();
            var country = $('#country').val();
            var company = $('#cname').val();
            var emp_count = $('#employee').val();
            var date = $('#date').val();
            var time = $('#time').val();
            var message = $('#information').val();

            if (email == '' || name == '' || phone_number == '' || country == '' || date == '' || time == '' || company == '' || emp_count == '' || message == ''){
                alert("Fill All Required Fields..")
            }
            else{

                $.ajax({
                    // url:'{% url "wofemtech:SendContactUsMail" %}',
                    url : '/api/demo_mail/',
                    type:'post',
                    data:{'name':name,'email':email,'message':message,'phone_number':phone_number,'company':company,'country':country,'emp_count':emp_count,'date':date,'time':time,'csrfmiddlewaretoken': '{{ csrf_token }}',},

                    success: function(data){
                        if (data.code == 201){
                            alert(data.msg);
                            location.reload();
                        }

                        if (data.code == 200){
                            window.location.replace("/demo_success")
                        }
                    }
                });
            }
        });
    });
</script>
{% endblock %}